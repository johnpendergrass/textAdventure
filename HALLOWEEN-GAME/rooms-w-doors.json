{
  "rooms": {
    "STREET-01": {
      "name": "Street",
      "enterText": {
        "first": "You are standing on the street.",
        "repeat": "You are on the street."
      },
      "lookText": "You are on the street.",
      "exits": {
        "north": { "to": "NICE-PORCH", "door": "street-012nice-porch" },
        "east":  { "to": "STREET-02",  "door": "street-012street-02" }
      },
      "special": {
        "starting-location": true
      }
    },

    "STREET-02": {
      "name": "Street",
      "enterText": {
        "first": "You enter the street.",
        "repeat": "You are on the street."
      },
      "lookText": "You are on the street.",
      "exits": {
        "west":  { "to": "STREET-01",   "door": "street-012street-02" },
        "north": { "to": "FRONT-PORCH", "door": "street022front-porch" }
      },
      "special": {}
    },

    "NICE-PORCH": {
      "name": "Nice Porch",
      "enterText": {
        "first": "You are standing on Mrs. McGillicutty's porch.",
        "repeat": "You are on the porch."
      },
      "lookText": "You are on a nice porch.",
      "exits": {
        "south": { "to": "STREET-01",  "door": "street-012nice-porch" },
        "north": { "to": "NICE-HOUSE", "door": "nice-porch2nice-house" }
      },
      "special": {}
    },

    "NICE-HOUSE": {
      "name": "Nice House",
      "enterText": {
        "first": "The door to the nice house swings open.",
        "repeat": "You ring and ring, but no one answers."
      },
      "lookText": "You are still on the porch.",
      "exits": {
        "south": { "to": "NICE-PORCH", "door": "nice-porch2nice-house" }
      },
      "special": {}
    },

    "FRONT-PORCH": {
      "name": "Front Porch",
      "enterText": {
        "first": "You enter the front porch.",
        "repeat": "You are on the front porch."
      },
      "lookText": "You are on the front porch.",
      "exits": {
        "south": { "to": "STREET-02", "door": "street022front-porch" },
        "north": { "to": "FOYER",     "door": "front-porch2foyer" }
      },
      "special": {}
    },

    "FOYER": {
      "name": "Foyer",
      "enterText": {
        "first": "You enter the foyer.",
        "repeat": "You are in the foyer."
      },
      "lookText": "You are in the foyer.",
      "exits": {
        "south": { "to": "FRONT-PORCH",  "door": "front-porch2foyer" },
        "north": { "to": "DINING-ROOM",  "door": "foyer2dining-room" },
        "east":  { "to": "STUDY",        "door": "foyer2study" },
        "west":  { "to": "LIBRARY",      "door": "foyer2library" }
      },
      "special": {}
    },

    "LIBRARY": {
      "name": "Library",
      "enterText": {
        "first": "You enter the library.",
        "repeat": "You are in the library."
      },
      "lookText": "You are in the library.",
      "exits": {
        "east":  { "to": "FOYER",  "door": "foyer2library" },
        "north": { "to": "MUSIC-ROOM", "door": "library2music-room" }
      },
      "special": {}
    },

    "DINING-ROOM": {
      "name": "Dining Room",
      "enterText": {
        "first": "You enter the dining room.",
        "repeat": "You are in the dining room."
      },
      "lookText": "You are in the dining room.",
      "exits": {
        "south": { "to": "FOYER",       "door": "foyer2dining-room" },
        "north": { "to": "KITCHEN",     "door": "dining-room2kitchen" },
        "east":  { "to": "TV-ROOM",     "door": "dining-room2tv-room" }
      },
      "special": {}
    },

    "STUDY": {
      "name": "Study",
      "enterText": {
        "first": "You enter the study.",
        "repeat": "You are in the study."
      },
      "lookText": "You are in the study.",
      "exits": {
        "west":  { "to": "FOYER",   "door": "foyer2study" },
        "north": { "to": "TV-ROOM", "door": "study2tv-room" }
      },
      "special": {}
    },

    "MUSIC-ROOM": {
      "name": "Music Room",
      "enterText": {
        "first": "You enter the music-room.",
        "repeat": "You are in the music-room."
      },
      "lookText": "You are in the music-room.",
      "exits": {
        "south": { "to": "LIBRARY",   "door": "library2music-room" },
        "north": { "to": "GAME-ROOM", "door": "music-room2game-room" }
      },
      "special": {}
    },

    "GAME-ROOM": {
      "name": "Game Room",
      "enterText": {
        "first": "You enter the game room.",
        "repeat": "You are in the game room."
      },
      "lookText": "You are in the game room.",
      "exits": {
        "south": { "to": "MUSIC-ROOM", "door": "music-room2game-room" }
      },
      "special": {}
    },

    "KITCHEN": {
      "name": "Kitchen",
      "enterText": {
        "first": "You enter the kitchen.",
        "repeat": "You are in the kitchen."
      },
      "lookText": "You are in the kitchen.",
      "exits": {
        "south": { "to": "DINING-ROOM", "door": "dining-room2kitchen" }
      },
      "special": {}
    },

    "BEDROOM": {
      "name": "Bedroom",
      "enterText": {
        "first": "You enter the bedroom.",
        "repeat": "You are in the bedroom."
      },
      "lookText": "You are in the bedroom.",
      "exits": {
        "south": { "to": "TV-ROOM", "door": "bedroom2tv-room" }
      },
      "special": {}
    },

    "TV-ROOM": {
      "name": "TV Room",
      "enterText": {
        "first": "You enter the TV room.",
        "repeat": "You are in the TV room."
      },
      "lookText": "You are in the TV room.",
      "exits": {
        "south": { "to": "STUDY",       "door": "study2tv-room" },
        "north": { "to": "BEDROOM", "door": "bedroom2tv-room" },
        "west":  { "to": "DINING-ROOM", "door": "dining-room2tv-room" }
      },
      "special": {}
    },

    "HOME": {
      "name": "Home",
      "enterText": {
        "first": "You are home.",
        "repeat": "You are home."
      },
      "lookText": "You are home.",
      "exits": {},
      "special": {
        "end-game-location": true
      }
    }
  },

  "doors": {
    "street-012street-02": {
      "between": ["STREET-01", "STREET-02"],
      "description": "It is a sidewalk.",
      "visible": true,
      "locked": false
    },
    "street-012nice-porch": {
      "between": ["STREET-01", "NICE-PORCH"],
      "description": "It is a walkway to the porch.",
      "visible": true,
      "locked": false
    },
    "nice-porch2nice-house": {
      "between": ["NICE-PORCH", "NICE-HOUSE"],
      "description": "It is a front door.",
      "visible": true,
      "locked": false
    },
    "street022front-porch": {
      "between": ["STREET-02", "FRONT-PORCH"],
      "description": "It is a walkway to the porch.",
      "visible": true,
      "locked": false
    },
    "front-porch2foyer": {
      "between": ["FRONT-PORCH", "FOYER"],
      "description": "It is a door.",
      "visible": true,
      "locked": true
    },
    "foyer2library": {
      "between": ["FOYER", "LIBRARY"],
      "description": "It is a door.",
      "visible": true,
      "locked": false
    },
    "foyer2study": {
      "between": ["FOYER", "STUDY"],
      "description": "It is a door.",
      "visible": true,
      "locked": false
    },
    "foyer2dining-room": {
      "between": ["FOYER", "DINING-ROOM"],
      "description": "It is a door.",
      "visible": true,
      "locked": false
    },
    "library2music-room": {
      "between": ["LIBRARY", "MUSIC-ROOM"],
      "description": "It is a door.",
      "visible": true,
      "locked": false
    },
    "dining-room2kitchen": {
      "between": ["DINING-ROOM", "KITCHEN"],
      "description": "It is a door.",
      "visible": true,
      "locked": false
    },
    "dining-room2tv-room": {
      "between": ["DINING-ROOM", "TV-ROOM"],
      "description": "It is a door.",
      "visible": true,
      "locked": false
    },
    "study2tv-room": {
      "between": ["STUDY", "TV-ROOM"],
      "description": "It is a door.",
      "visible": true,
      "locked": false
    },
    "music-room2game-room": {
      "between": ["MUSIC-ROOM", "GAME-ROOM"],
      "visible": false,
      "locked": true,
      "requirements": [
        { "type": "puzzle", "id": "say-friend" }
      ],
      "messages": {
        "hidden": "The wall looks seamless.",
        "locked": "The stone grinds but won't openâ€¦ perhaps a password?",
        "unlocked": "Something shifts inside the stonework."
      },
      "alias": "secret door"
    },
    "bedroom2tv-room": {
      "between": ["BEDROOM", "TV-ROOM"],
      "description": "It is a door.",
      "visible": true,
      "locked": false
    }
  },

  "puzzles": {
    "say-friend": {
      "prompt": "An inscription reads: 'Speak, friend, and enter.'",
      "solutions": ["friend"],
      "effects": [
        { "op": "unlock", "door": "music-room2game-room" },
        { "op": "reveal", "door": "music-room2game-room" }
      ]
    }
  }
}